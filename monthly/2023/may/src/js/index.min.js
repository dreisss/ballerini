function app_init(){Alpine.data("app",()=>({queue:["focus","short-break","focus","short-break","focus","short-break","focus","long-break"],duration:[1500,300,1500,300,1500,300,1500,900],mode:7,finished:!0,current(t){return this.queue[t%8]},next(t){return this.queue[(t+1)%8]},nextmode(){this.mode+=1,this.finished=!1,this.counter=this.duration[this.mode%8]}}))}function language_init(){Alpine.data("language",()=>({pt:Alpine.$persist(!0),init(){AlpineI18n.locale=this.pt?"pt":"en"},toggle(){this.pt=!this.pt,AlpineI18n.locale=this.pt?"pt":"en"}}))}document.addEventListener("alpine-i18n:ready",()=>{window.AlpineI18n.create("pt",translations)}),document.addEventListener("alpine:init",()=>{theme_init(),language_init(),todolist_init(),timer_init(),app_init()});const translations={pt:{title:"Pomodoro",subtitle:"Gerencie seu tempo de maneira mágica!",session:"Dados da sessão",session_subtitle:"Acompanhe os dados da sessão atual",mode:"Modo atual:",mode_subtitle:"O modo atual do cronômetro",next_mode:"Próximo modo:",next_mode_subtitle:"O modo que virá a seguir",focus:"Foco",long_break:"Pausa Longa",short_break:"Pausa Curta",time_ended:"O tempo do cíclo chegou ao fim!",congratulations:"Parabéns! 🎉",congratulations_subtitle:"Você chegou no fim de mais um cíclo dessa sessão!",start_focus:"Iniciar: Foco",start_long_break:"Iniciar: Pausa Longa",start_short_break:"Iniciar: Pausa Curta",todolist:"Lista de tarefas",todolist_subtitle:"Seus objetivos para essa sessão",todolist_empty:"Ainda não há nenhuma tarefa",todo_add:"Adicionar",todo_clear:"Limpar",todo_placeholder:"Nova tarefa"},en:{title:"Pomodoro",subtitle:"Manage your time in a magical way!",session:"Session data",session_subtitle:"Keep track of current session data",mode:"Current mode:",mode_subtitle:"The current stopwatch mode",next_mode:"Next mode:",next_mode_subtitle:"The mode that will come next",focus:"Focus",long_break:"Long Break",short_break:"Short Break",time_ended:"Cycle time has come to an end!",congratulations:"Congratulations! 🎉",congratulations_subtitle:"You have reached the end of another cycle of this session!",start_focus:"Start: Focus",start_long_break:"Start: Long Break",start_short_break:"Start: Short Break",todolist:"To-do list",todolist_subtitle:"Your goals for this session",todolist_empty:"There is no task yet",todo_add:"Add",todo_clear:"Clear",todo_placeholder:"New task"}};function theme_init(){Alpine.data("theme",()=>({dark:Alpine.$persist(!0),init(){document.body.classList.add(this.dark?"dark":"light"),document.body.classList.remove(this.dark?"light":"dark")},toggle(){this.dark=!this.dark,document.body.classList.toggle("dark"),document.body.classList.toggle("light")}}))}function timer_init(){function e(t){return t.toString().padStart(2,"0")}Alpine.data("timer_buttons",()=>({open:!1,show(){this.open=!0},hide(){this.$el.classList.add("closing"),setTimeout(()=>{this.open=!1,this.$el.classList.remove("closing")},250)}})),Alpine.data("timer",()=>({running:!1,counter:0,interval:null,minutes:t=>e(Math.trunc(t/60)),seconds:t=>e(t%60),progress(t){return 656*(1-t/this.duration[this.mode%8])},play(){this.running=!0,this.interval=setInterval(()=>this.update(),1e3)},pause(){clearInterval(this.interval),this.running=!1},update(){--this.counter,0==this.counter&&this.end()},end(){this.pause(),this.finished=!0,alert(Alpine.$t("time_ended"))},restart(){this.counter=this.duration[this.mode%8]}}))}function todolist_init(){Alpine.data("todolist",()=>({list:Alpine.$persist([]),input:"",submit(){""!=this.input.trim()&&(this.list.push({checked:!1,text:this.input.trim()}),this.input="")},clear(){this.list=[]}}))}