<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <title>Pomodoro</title>

    <!-- Favicon Link -->
    <link rel="shortcut icon" href="./src/favicon.ico" type="image/x-icon" />

    <!-- Alpine.js -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs-i18n@2.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Phosphor Icons -->
    <link rel="preconnect" href="https://unpkg.com" />
    <script defer src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Rajdhani:wght@700&display=swap" rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="./src/css/index.css" />
    <link rel="stylesheet" href="./src/css/responsiveness.css" />
    <link rel="stylesheet" href="./src/css/animations.css" />

    <link rel="stylesheet" href="./src/css/themes/dark.css" />
    <link rel="stylesheet" href="./src/css/themes/light.css" />

    <link rel="stylesheet" href="./src/css/header/index.css" />
    <link rel="stylesheet" href="./src/css/header/buttons.css" />

    <link rel="stylesheet" href="./src/css/main/index.css" />
    <link rel="stylesheet" href="./src/css/main/left/index.css" />
    <link rel="stylesheet" href="./src/css/main/left/badge.css" />
    <link rel="stylesheet" href="./src/css/main/left/timer.css" />
    <link rel="stylesheet" href="./src/css/main/left/buttons.css" />

    <link rel="stylesheet" href="./src/css/main/right/index.css" />
    <link rel="stylesheet" href="./src/css/main/right/checkbox.css" />
    <link rel="stylesheet" href="./src/css/main/right/input.css" />
    <link rel="stylesheet" href="./src/css/main/right/buttons.css" />
  </head>

  <body class="dark">
    <header id="header">
      <hgroup x-data>
        <h1 x-text="$t('title')"></h1>
        <h2 x-text="$t('subtitle')"></h2>
      </hgroup>

      <nav>
        <button x-data="theme" @click="toggle" class="btn">
          <i x-show="dark" class="ph ph-sun-dim"></i>
          <i x-show="!dark" class="ph ph-moon"></i>
        </button>

        <a class="btn" href="https://github.com/dreisss/challenges-ballerini/tree/main/monthly/2023/may" target="_blank">
          <i class="ph ph-github-logo"></i>
        </a>

        <button x-data="language" @click="toggle" class="btn">
          <i class="ph ph-translate"></i>
        </button>
      </nav>
    </header>

    <main>
      <section x-data="app" id="left">
        <header>
          <hgroup>
            <h3 x-text="$t('session')"></h3>
            <h4 x-text="$t('session_subtitle')"></h4>
          </hgroup>

          <span>‚è≥</span>
        </header>

        <ul>
          <li>
            <hgroup>
              <h5 x-text="$t('mode')"></h5>
              <h6 x-text="$t('mode_subtitle')"></h6>
            </hgroup>

            <span x-show="current(mode) == 'focus'" class="badge focus">
              <i class="ph ph-brain"></i>
              <span x-text="$t('focus')"></span>
            </span>

            <span x-show="current(mode) == 'short-break'" class="badge short-break">
              <i class="ph ph-coffee"></i>
              <span x-text="$t('short_break')"></span>
            </span>

            <span x-show="current(mode) == 'long-break'" class="badge long-break">
              <i class="ph ph-coffee"></i>
              <span x-text="$t('long_break')"></span>
            </span>
          </li>

          <li>
            <hgroup>
              <h5 x-text="$t('next_mode')"></h5>
              <h6 x-text="$t('next_mode_subtitle')"></h6>
            </hgroup>

            <span x-show="next(mode) == 'focus'" class="badge focus">
              <i class="ph ph-brain"></i>
              <span x-text="$t('focus')"></span>
            </span>

            <span x-show="next(mode) == 'short-break'" class="badge short-break">
              <i class="ph ph-coffee"></i>
              <span x-text="$t('short_break')"></span>
            </span>

            <span x-show="next(mode) == 'long-break'" class="badge long-break">
              <i class="ph ph-coffee"></i>
              <span x-text="$t('long_break')"></span>
            </span>
          </li>
        </ul>

        <footer x-data="timer">
          <details x-data="timer_buttons" @mouseenter="show" @mouseleave="hide" :open="!finished && open">
            <div>
              <button>
                <i class="ph ph-gear"></i>
              </button>

              <button @click="play" x-show="!running" class="main">
                <i class="ph ph-play"></i>
              </button>

              <button @click="pause" x-show="running" class="main">
                <i class="ph ph-pause"></i>
              </button>

              <button @click="restart">
                <i class="ph ph-clock-clockwise"></i>
              </button>
            </div>

            <summary @click.prevent="" @focus="show" :finished="finished">
              <svg :class="current(mode)" width="224" height="224" viewBox="0 0 224 224" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse id="background" cx="112" cy="112" rx="104.5" ry="104.5" stroke="#27272A"></ellipse>
                <ellipse x-show="running || !!counter" :stroke-dashoffset="progress(counter)" id="progress" cx="112" cy="112" rx="104.5" ry="104.5"></ellipse>
                <text x-text="`${minutes(counter)}:${seconds(counter)}`" x="50%" y="50%"></text>
              </svg>
            </summary>
          </details>

          <div x-show="finished">
            <hgroup>
              <h1 x-text="$t('congratulations')"></h1>
              <h2 x-text="$t('congratulations_subtitle')"></h2>
            </hgroup>

            <button @click="nextmode" x-show="next(mode) == 'focus'" x-text="$t('start_focus')" class="start-focus"></button>
            <button @click="nextmode" x-show="next(mode) == 'short-break'" x-text="$t('start_short_break')" class="start-short-break"></button>
            <button @click="nextmode" x-show="next(mode) == 'long-break'" x-text="$t('start_long_break')" class="start-long-break"></button>
          </div>
        </footer>
      </section>

      <section id="right" x-data="todolist">
        <header>
          <hgroup>
            <h3 x-text="$t('todolist')"></h3>
            <h4 x-text="$t('todolist_subtitle')"></h4>
          </hgroup>

          <span>üöÄ</span>
        </header>

        <ul>
          <template x-for="(todo, index) in list" :key="index">
            <li>
              <input :checked="todo.checked" type="checkbox" />
              <span x-text="todo.text"></span>
            </li>
          </template>

          <h4 id="todolist_empty" x-text="$t('todolist_empty')" x-show="!list.length"></h4>
        </ul>

        <footer>
          <form @submit.prevent="submit">
            <input type="text" :placeholder="$t('todo_placeholder')" x-model="input" />
            <button x-text="$t('todo_add')" type="submit"></button>
            <button @click="clear" x-show="!!list.length" x-text="$t('todo_clear')" type="button"></button>
          </form>
        </footer>
      </section>
    </main>

    <script src="./src/js/theme.js"></script>
    <script src="./src/js/language.js"></script>
    <script src="./src/js/timer.js"></script>
    <script src="./src/js/todolist.js"></script>
    <script src="./src/js/app.js"></script>
    <script src="./src/js/index.js"></script>
  </body>
</html>
